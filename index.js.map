{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport axios from \"axios\";\n\n export function getImagesByQuery(query) {\n    return axios\n        .get(`https://pixabay.com/api/?key=49722241-b38f1bcf58efdc2f53696c0dc&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => {\n            const data = response.data;\n            if (data.hits.length === 0) {\n                iziToast.show({\n                    title: 'Error',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                    backgroundColor: \"#ef4040\",\n                    messageColor: \"#fff\",\n                    timeout: 5000,\n                    progressBar: false,\n                    close: true,\n                    transitionIn: 'fadeInDown',\n                    transitionOut: 'fadeOutUp',\n                });\n                \n            }\n                return data.hits;\n            })\n        \n            .catch(error => {\n            console.log(error);\n            throw error;\n        });\n    \n}","import { getImagesByQuery } from './pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector('.form');\n\nfunction createGallery(images) {\n  const markup = images.map(image => `\n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      />\n    </a>\n    <div class=\"info\">\n        <p><b>Likes</b> ${image.likes}</p>\n        <p><b>Views</b> ${image.views}</p>\n        <p><b>Comments</b> ${image.comments}</p>\n        <p><b>Downloads</b> ${image.downloads}</p>\n      </div>\n  </li>`).join(\"\");\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    scrollZoom: true\n  });\n\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  const gallery = document.querySelector(\".gallery\");\n  gallery.innerHTML = '';  \n}\n\nfunction showLoader() {\n  const loader = document.querySelector(\".loader\"); \n  loader.classList.add(\"is-visible\");  \n}\nfunction hideLoader() {\n  const loader = document.querySelector(\".loader\"); \n  loader.classList.remove(\"is-visible\"); \n}\n\nfunction fetchImages(query) {\n  console.log(\"Fetching images for query: \", query);\n  showLoader(); \n  getImagesByQuery(query)\n    .then(images => {\n      console.log(\"Received images: \", images);\n      clearGallery();  \n      createGallery(images);  \n      hideLoader();  \n    })\n    .catch(error => {\n      hideLoader();  \n      iziToast.show({\n        title: 'Error',\n        message: \"Something went wrong. Please try again later.\",\n        position: \"topRight\",\n        backgroundColor: \"#ef4040\",\n        messageColor: \"#fff\",\n        timeout: 5000,\n        progressBar: false,\n        close: true,\n        transitionIn: 'fadeInDown',\n        transitionOut: 'fadeOutUp',\n      });\n    });\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault(); \n\n  const query = event.target.elements['search-text'].value.trim();\n\n  if (query === '') return;\n\n  fetchImages(query);\n});\n\nexport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n  fetchImages,\n};"],"names":["getImagesByQuery","query","axios","response","data","iziToast","error","gallery","form","createGallery","images","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","fetchImages","event"],"mappings":"owBAMQ,SAASA,EAAiBC,EAAO,CACrC,OAAOC,EACF,IAAI,qEAAqED,CAAK,0DAA0D,EACxI,KAAKE,GAAY,CACd,MAAMC,EAAOD,EAAS,KACtB,OAAIC,EAAK,KAAK,SAAW,GACrBC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,aACd,cAAe,WACnC,CAAiB,EAGMD,EAAK,IACf,CAAA,EAEA,MAAME,GAAS,CAChB,cAAQ,IAAIA,CAAK,EACXA,CAClB,CAAS,CAET,CC5BA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,oCAEDA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,0BAICA,EAAM,KAAK;AAAA,0BACXA,EAAM,KAAK;AAAA,6BACRA,EAAM,QAAQ;AAAA,8BACbA,EAAM,SAAS;AAAA;AAAA,QAErC,EAAE,KAAK,EAAE,EAEfL,EAAQ,mBAAmB,YAAaI,CAAM,EAE7B,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,WAAY,EAChB,CAAG,EAEQ,QAAS,CACpB,CAEA,SAASC,GAAe,CACtB,MAAMP,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEA,SAASQ,GAAa,CACL,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,YAAY,CACnC,CACA,SAASC,GAAa,CACL,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,YAAY,CACtC,CAEA,SAASC,EAAYhB,EAAO,CAC1B,QAAQ,IAAI,8BAA+BA,CAAK,EAChDc,IACAf,EAAiBC,CAAK,EACnB,KAAKS,GAAU,CACd,QAAQ,IAAI,oBAAqBA,CAAM,EACvCI,IACAL,EAAcC,CAAM,EACpBM,GACD,CAAA,EACA,MAAMV,GAAS,CACdU,IACAX,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,aACd,cAAe,WACvB,CAAO,CACP,CAAK,CACL,CAEAG,EAAK,iBAAiB,SAAUU,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMjB,EAAQiB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,EAE3DjB,IAAU,IAEdgB,EAAYhB,CAAK,CACnB,CAAC"}